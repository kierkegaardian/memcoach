{% extends "base.html" %}

{% block title %}Decks - MemCoach{% endblock %}

{% block content %}
<div class="text-center">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Decks</h2>
    <div class="flex flex-col sm:flex-row justify-center gap-3 mb-6">
        <a href="/decks/new" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg inline-block transition">+ New Deck</a>
        <a href="/plan" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg inline-block transition">View Plan</a>
    </div>
    {% if deck_tags %}
        <div class="max-w-4xl mx-auto bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 text-left">
            <p class="text-sm font-semibold text-gray-700 mb-2">Filter decks by tags</p>
            <form method="get" class="flex flex-wrap gap-3">
                {% for tag in deck_tags %}
                    <label class="flex items-center gap-2 text-sm text-gray-700">
                        <input type="checkbox" name="tag" value="{{ tag }}" class="rounded border-gray-300" {% if tag in selected_tags %}checked{% endif %}>
                        <span>{{ tag }}</span>
                    </label>
                {% endfor %}
                <button type="submit" class="bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600">Apply</button>
                {% if selected_tags %}
                    <a href="/decks" class="text-sm text-blue-600 hover:underline">Clear</a>
                {% endif %}
            </form>
        </div>
    {% endif %}
    {% if decks %}
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow divide-y divide-gray-200">
            {% for deck in decks %}
                {% include "decks/deck_row.html" %}
            {% endfor %}
        </div>
    {% else %}
        <p class="text-gray-600">No decks yet. Create one to add cards!</p>
    {% endif %}
</div>
{% endblock %}
